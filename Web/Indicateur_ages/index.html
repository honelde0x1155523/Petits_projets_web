<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="indicateur_ages.ico" type="image/x-icon">
	<title>Indicateur âges</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		body {
			--bleu-glacier: #eaf2ff;
			--rose-poudre: #ffe9f2;
			--ivoire-chaud: #fff7ef;
			--or-doux: rgba(255, 210, 120, 0.25);
			--soie: rgba(255, 255, 255, 0.15);

			background-image:
				radial-gradient(60% 60% at 20% 15%, var(--or-doux) 0%, rgba(255, 210, 120, 0) 60%),
				radial-gradient(55% 55% at 80% 85%, var(--or-doux) 0%, rgba(255, 210, 120, 0) 65%),
				linear-gradient(120deg, var(--bleu-glacier) 0%, var(--ivoire-chaud) 50%, var(--rose-poudre) 100%),
				repeating-linear-gradient(135deg, var(--soie) 0 2px, rgba(255, 255, 255, 0) 2px 10px);
			background-blend-mode: screen, screen, normal, soft-light;
			background-color: var(--ivoire-chaud);
			background-attachment: fixed;
			background-repeat: no-repeat;
			background-size: cover;

			font-family: 'Segoe UI', sans-serif;
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.card {
			background: rgba(255, 255, 255, 0.85);
			backdrop-filter: blur(10px);
			border-radius: 15px;
			box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
			max-width: 700px;
			width: 90%;
			padding: 30px;
			border: 1px solid rgba(200, 200, 200, 0.5);
		}

		h1 {
			font-weight: 600;
			font-size: 1.8rem;
			text-align: center;
			margin-bottom: 1rem;
		}

		h2 {
			font-size: 1.3rem;
			margin-top: 1.2rem;
		}

		ul {
			list-style-type: none;
			padding-left: 0;
		}
	</style>
</head>

<body>
	<div class="card">
		<h1>Indicateur des âges</h1>
		<div id="content"></div>
	</div>

	<script>
		const currentYear = new Date().getFullYear();
		const data = {};

		// 1. Bac (18 ans)
		const bacYear = currentYear - 18;
		data.bac = {
			label: "Passent le bac cette année",
			range: `${new Date(bacYear, 0, 1).getFullYear()} - ${new Date(bacYear, 11, 31).getFullYear()}`,
			birthYear: bacYear
		};

		// 2. Études supérieures
		data.etudes = [
			{niveau: "Bac +2", age: 20, year: currentYear - 20},
			{niveau: "Bac +3", age: 21, year: currentYear - 21},
			{niveau: "Bac +5", age: 23, year: currentYear - 23}
		];

		// 3. Décennies et multiples de 5
		const decades = [];
		for (let age = 5; age <= 100; age += 5) {
			decades.push({age, birthYear: currentYear - age});
		}
		data.decades = decades;

		// Stockage local
		localStorage.setItem("bord_annees", JSON.stringify(data));

		// Rendu HTML
		const container = document.getElementById("content");

		function render() {
			const stored = JSON.parse(localStorage.getItem("bord_annees"));
			if (!stored) return;

			let html = "";

			html += `<h2>${stored.bac.label}</h2>
               <p>Année de naissance : <strong>${stored.bac.birthYear}</strong>  
               (entre janvier et décembre ${stored.bac.range})</p>`;

			html += `<h2>Fins d'études</h2><ul>`;
			stored.etudes.forEach(e => {
				html += `<li>${e.niveau} : ${e.age} ans (nés en ${e.year})</li>`;
			});
			html += `</ul>`;

			html += `<h2>Décennies et multiples de 5</h2><ul>`;
			stored.decades.forEach(d => {
				html += `<li>${d.age} ans (${d.birthYear})</li>`;
			});
			html += `</ul>`;

			container.innerHTML = html;
		}

		render();
	</script>
</body>

</html>